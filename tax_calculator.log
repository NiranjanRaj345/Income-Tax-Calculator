2024-11-24 21:56:48,423 [INFO] __main__: Instance path: /home/monk/Documents/capstone/income-tax-calculator (copy)/instance
2024-11-24 21:56:48,423 [INFO] __main__: Data directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data
2024-11-24 21:56:48,423 [INFO] __main__: Session directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/flask_session
2024-11-24 21:56:48,465 [INFO] __main__: Database tables created successfully
2024-11-24 21:56:48,514 [WARNING] werkzeug:  * Debugger is active!
2024-11-24 21:56:48,519 [INFO] werkzeug:  * Debugger PIN: 144-201-038
2024-11-24 21:57:17,288 [INFO] app: Instance path: /home/monk/Documents/capstone/income-tax-calculator (copy)/instance
2024-11-24 21:57:17,289 [INFO] app: Data directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data
2024-11-24 21:57:17,289 [INFO] app: Session directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/flask_session
2024-11-24 21:57:17,332 [INFO] app: Database tables created successfully
2024-11-24 21:57:17,564 [ERROR] app: Database initialization error: (sqlite3.IntegrityError) NOT NULL constraint failed: admin.first_name
[SQL: INSERT INTO admin (username, email, first_name, last_name, password_hash, created_at, last_login, is_active, is_super_admin) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('admin', 'admin@example.com', None, None, 'pbkdf2:sha256:600000$XSisDUAoKvjEDWMj$b3a8e1a1387daca8fd9b657b00c9d4018fb4546275a54bb259e4536c74d0709e', '2024-11-24 16:27:17.564085', None, 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-11-24 21:57:50,619 [INFO] werkzeug:  * Detected change in '/home/monk/Documents/capstone/income-tax-calculator (copy)/database.py', reloading
2024-11-24 21:57:52,097 [INFO] __main__: Instance path: /home/monk/Documents/capstone/income-tax-calculator (copy)/instance
2024-11-24 21:57:52,097 [INFO] __main__: Data directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data
2024-11-24 21:57:52,097 [INFO] __main__: Session directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/flask_session
2024-11-24 21:57:52,124 [INFO] __main__: Database tables created successfully
2024-11-24 21:57:52,360 [ERROR] __main__: Database initialization error: (sqlite3.IntegrityError) NOT NULL constraint failed: admin.first_name
[SQL: INSERT INTO admin (username, email, first_name, last_name, password_hash, created_at, last_login, is_active, is_super_admin) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('admin', 'admin@example.com', None, None, 'pbkdf2:sha256:600000$Tw0hBhD53Rw2CIpY$65619486076fd9f2df12b8fb6899eb0e436da780ebcd9150d2eb0400c959989c', '2024-11-24 16:27:52.359824', None, 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-11-24 21:58:23,490 [INFO] app: Instance path: /home/monk/Documents/capstone/income-tax-calculator (copy)/instance
2024-11-24 21:58:23,490 [INFO] app: Data directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data
2024-11-24 21:58:23,490 [INFO] app: Session directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/flask_session
2024-11-24 21:58:23,510 [INFO] app: Database tables created successfully
2024-11-24 21:58:23,759 [ERROR] app: Database initialization error: (sqlite3.IntegrityError) NOT NULL constraint failed: admin.first_name
[SQL: INSERT INTO admin (username, email, first_name, last_name, password_hash, created_at, last_login, is_active, is_super_admin) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('admin', 'admin@example.com', None, None, 'pbkdf2:sha256:600000$CYxNxZDHNUr4a9yb$057fdce73a7820110459143f4f95291e076bee6c6c084f2466dc733b264afddf', '2024-11-24 16:28:23.758943', None, 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-11-24 21:59:45,050 [INFO] app: Instance path: /home/monk/Documents/capstone/income-tax-calculator (copy)/instance
2024-11-24 21:59:45,050 [INFO] app: Data directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data
2024-11-24 21:59:45,050 [INFO] app: Session directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/flask_session
2024-11-24 21:59:45,068 [INFO] app: Database tables created successfully
2024-11-24 21:59:45,336 [INFO] app: Default admin user created
2024-11-24 21:59:45,344 [INFO] app: Default tax rules created
2024-11-24 21:59:45,349 [INFO] database: Set permissions for directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data
2024-11-24 21:59:45,350 [INFO] database: Creating database tables...
2024-11-24 21:59:45,350 [INFO] database: Initializing tax rules...
2024-11-24 21:59:45,351 [INFO] database: Checking for default admin...
2024-11-24 22:02:33,881 [INFO] __main__: Instance path: /home/monk/Documents/capstone/income-tax-calculator (copy)/instance
2024-11-24 22:02:33,881 [INFO] __main__: Data directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data
2024-11-24 22:02:33,881 [INFO] __main__: Session directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/flask_session
2024-11-24 22:02:33,904 [INFO] __main__: Database tables created successfully
2024-11-24 22:02:33,932 [INFO] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5502
2024-11-24 22:02:33,933 [INFO] werkzeug: [33mPress CTRL+C to quit[0m
2024-11-24 22:02:33,934 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:02:34,865 [INFO] __main__: Instance path: /home/monk/Documents/capstone/income-tax-calculator (copy)/instance
2024-11-24 22:02:34,866 [INFO] __main__: Data directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data
2024-11-24 22:02:34,866 [INFO] __main__: Session directory: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/flask_session
2024-11-24 22:02:34,885 [INFO] __main__: Database tables created successfully
2024-11-24 22:02:34,911 [WARNING] werkzeug:  * Debugger is active!
2024-11-24 22:02:34,915 [INFO] werkzeug:  * Debugger PIN: 144-201-038
2024-11-24 22:02:42,467 [INFO] werkzeug: 127.0.0.1 - - [24/Nov/2024 22:02:42] "[32mPOST /employee/calculate-tax HTTP/1.1[0m" 302 -
2024-11-24 22:02:42,497 [INFO] werkzeug: 127.0.0.1 - - [24/Nov/2024 22:02:42] "GET /auth/login?next=/employee/calculate-tax HTTP/1.1" 200 -
2024-11-24 22:02:48,141 [WARNING] routes.auth: Failed login attempt for email: wepen60285@gitated.com
2024-11-24 22:02:48,142 [INFO] werkzeug: 127.0.0.1 - - [24/Nov/2024 22:02:48] "POST /auth/login HTTP/1.1" 200 -
2024-11-24 22:03:24,824 [INFO] werkzeug:  * Detected change in '/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py', reloading
2024-11-24 22:03:25,420 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:07:07,021 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:08:32,114 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:12:56,190 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:13:29,393 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:27:13,204 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:38:34,126 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:38:57,217 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:44:12,669 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:52:01,444 [INFO] werkzeug:  * Restarting with stat
2024-11-24 22:55:56,635 [INFO] werkzeug:  * Restarting with stat
2024-11-24 23:22:29,506 - routes.employee - INFO - Attempting to save tax calculation...
2024-11-24 23:22:29,512 - routes.employee - ERROR - Error creating temporary table: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')
Traceback (most recent call last):
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py", line 381, in calculate_tax
    db.session.execute("""
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 782, in execute
    return self._proxied.execute(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2088, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 413, in expect
    resolved = impl._literal_coercion(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 638, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 631, in _text_coercion
    return _no_text_coercion(element, argname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 601, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')

2024-11-24 23:22:29,514 - routes.employee - ERROR - Error saving tax calculation: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')
Traceback (most recent call last):
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py", line 381, in calculate_tax
    db.session.execute("""
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 782, in execute
    return self._proxied.execute(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2088, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 413, in expect
    resolved = impl._literal_coercion(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 638, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 631, in _text_coercion
    return _no_text_coercion(element, argname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 601, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')

2024-11-24 23:22:35,899 - routes.employee - INFO - Attempting to save tax calculation...
2024-11-24 23:22:35,902 - routes.employee - ERROR - Error creating temporary table: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')
Traceback (most recent call last):
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py", line 381, in calculate_tax
    db.session.execute("""
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 782, in execute
    return self._proxied.execute(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2088, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 413, in expect
    resolved = impl._literal_coercion(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 638, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 631, in _text_coercion
    return _no_text_coercion(element, argname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 601, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')

2024-11-24 23:22:35,904 - routes.employee - ERROR - Error saving tax calculation: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')
Traceback (most recent call last):
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py", line 381, in calculate_tax
    db.session.execute("""
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 782, in execute
    return self._proxied.execute(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2088, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 413, in expect
    resolved = impl._literal_coercion(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 638, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 631, in _text_coercion
    return _no_text_coercion(element, argname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 601, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')

2024-11-24 23:23:04,714 - routes.employee - INFO - Attempting to save tax calculation...
2024-11-24 23:23:04,716 - routes.employee - ERROR - Error creating temporary table: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')
Traceback (most recent call last):
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py", line 381, in calculate_tax
    db.session.execute("""
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 782, in execute
    return self._proxied.execute(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2088, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 413, in expect
    resolved = impl._literal_coercion(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 638, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 631, in _text_coercion
    return _no_text_coercion(element, argname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 601, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')

2024-11-24 23:23:04,719 - routes.employee - ERROR - Error saving tax calculation: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')
Traceback (most recent call last):
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py", line 381, in calculate_tax
    db.session.execute("""
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 782, in execute
    return self._proxied.execute(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2088, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 413, in expect
    resolved = impl._literal_coercion(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 638, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 631, in _text_coercion
    return _no_text_coercion(element, argname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 601, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression '\n                    CREA...' should be explicitly declared as text('\n                    CREA...')

2024-11-24 23:25:25,941 - routes.employee - INFO - Attempting to save tax calculation...
2024-11-24 23:25:25,942 - routes.employee - INFO - Database path: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:25:25,956 - routes.employee - INFO - Tax calculation saved successfully
2024-11-24 23:25:49,548 - routes.employee - INFO - Attempting to save tax calculation...
2024-11-24 23:25:49,548 - routes.employee - INFO - Database path: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:25:49,553 - routes.employee - INFO - Tax calculation saved successfully
2024-11-24 23:26:18,561 - routes.employee - ERROR - Error in employee dashboard: name 'TaxRule' is not defined
Traceback (most recent call last):
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py", line 87, in dashboard
    tax_rules = TaxRule.query.filter_by(is_active=True).all()
                ^^^^^^^
NameError: name 'TaxRule' is not defined

2024-11-24 23:26:31,700 - routes.employee - INFO - Attempting to save tax calculation...
2024-11-24 23:26:31,701 - routes.employee - INFO - Database path: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:26:31,706 - routes.employee - INFO - Tax calculation saved successfully
2024-11-24 23:28:26,783 - routes.employee - ERROR - Error loading dashboard: 'employee' is undefined
Traceback (most recent call last):
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py", line 130, in dashboard
    return render_template('employee/dashboard.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/flask/templating.py", line 151, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/flask/templating.py", line 132, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/jinja2/environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/templates/employee/dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/templates/base.html", line 395, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/templates/employee/dashboard.html", line 12, in block 'content'
    <h2 class="card-title">Welcome, {{ employee.first_name }}!</h2>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/jinja2/environment.py", line 487, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'employee' is undefined

2024-11-24 23:28:58,612 - routes.employee - ERROR - Error loading dashboard: 'employee' is undefined
Traceback (most recent call last):
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py", line 130, in dashboard
    return render_template('employee/dashboard.html',
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/flask/templating.py", line 151, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/flask/templating.py", line 132, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/jinja2/environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/templates/employee/dashboard.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/templates/base.html", line 395, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/templates/employee/dashboard.html", line 12, in block 'content'
    <h2 class="card-title">Welcome, {{ employee.first_name }}!</h2>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/venv/lib/python3.12/site-packages/jinja2/environment.py", line 487, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'employee' is undefined

2024-11-24 23:29:24,011 - routes.employee - ERROR - Error in employee dashboard: name 'TaxRule' is not defined
Traceback (most recent call last):
  File "/home/monk/Documents/capstone/income-tax-calculator (copy)/routes/employee.py", line 87, in dashboard
    tax_rules = TaxRule.query.filter_by(is_active=True).all()
                ^^^^^^^
NameError: name 'TaxRule' is not defined

2024-11-24 23:31:07,611 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:31:07,615 - routes.employee - INFO - Retrieved 1 recent calculations
2024-11-24 23:31:28,320 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:31:28,321 - routes.employee - INFO - Retrieved 1 recent calculations
2024-11-24 23:38:13,854 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:38:13,860 - routes.employee - INFO - Retrieved 1 recent calculations
2024-11-24 23:42:46,770 - routes.employee - INFO - Employee dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:43:42,726 - routes.employee - INFO - Employee dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:43:54,028 - routes.employee - INFO - Employee dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:44:30,422 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:44:30,426 - routes.employee - INFO - Retrieved 1 recent calculations
2024-11-24 23:49:54,720 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:49:54,723 - routes.employee - INFO - Retrieved 1 recent calculations
2024-11-24 23:50:10,297 - routes.employee - INFO - Attempting to save tax calculation...
2024-11-24 23:50:10,297 - routes.employee - INFO - Database path: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:50:10,302 - routes.employee - INFO - Tax calculation saved successfully
2024-11-24 23:50:15,010 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-24 23:50:15,012 - routes.employee - INFO - Retrieved 2 recent calculations
2024-11-25 00:08:00,057 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-25 00:08:00,058 - routes.employee - INFO - Retrieved 2 recent calculations
2024-11-25 00:08:03,018 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-25 00:08:03,019 - routes.employee - INFO - Retrieved 2 recent calculations
2024-11-25 00:13:13,319 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-25 00:13:13,328 - routes.employee - INFO - Retrieved 2 recent calculations
2024-11-25 00:18:48,136 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-25 00:18:48,138 - routes.employee - INFO - Retrieved 2 recent calculations
2024-11-25 00:19:13,545 - routes.employee - INFO - Attempting to save tax calculation...
2024-11-25 00:19:13,546 - routes.employee - INFO - Database path: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-25 00:19:13,552 - routes.employee - INFO - Tax calculation saved successfully
2024-11-25 00:26:21,253 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-25 00:26:21,254 - routes.employee - INFO - Retrieved 3 recent calculations
2024-11-25 00:26:32,793 - routes.employee - INFO - Attempting to save tax calculation...
2024-11-25 00:26:32,794 - routes.employee - INFO - Database path: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-25 00:26:32,799 - routes.employee - INFO - Tax calculation saved successfully
2024-11-25 00:26:46,809 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/capstone/income-tax-calculator (copy)/data/tax_calculator.db
2024-11-25 00:26:46,810 - routes.employee - INFO - Retrieved 4 recent calculations
2024-11-25 13:41:19,862 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/GitHub/income-tax-calculator/data/tax_calculator.db
2024-11-25 13:41:19,863 - routes.employee - INFO - Retrieved 4 recent calculations
2024-11-25 13:41:35,408 - routes.employee - INFO - Attempting to save tax calculation...
2024-11-25 13:41:35,408 - routes.employee - INFO - Database path: /home/monk/Documents/GitHub/income-tax-calculator/data/tax_calculator.db
2024-11-25 13:41:35,411 - routes.employee - INFO - Tax calculation saved successfully
2024-11-25 13:41:45,238 - routes.employee - INFO - Dashboard accessing database at: /home/monk/Documents/GitHub/income-tax-calculator/data/tax_calculator.db
2024-11-25 13:41:45,240 - routes.employee - INFO - Retrieved 5 recent calculations
